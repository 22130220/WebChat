import{r,j as e,w as m,u as y,a as S,b as E,L as C,t as O}from"./index-CecmP2xk.js";import{u as n}from"./useEvent-CYnDs9ut.js";import{b as k,i as I,n as _}from"./NotificationModal-CHwhlFco.js";function L(){const s=m.readyState(),[c,a]=r.useState(s===WebSocket.CONNECTING),[x,l]=r.useState(s===WebSocket.OPEN);r.useEffect(()=>{const o=m.readyState();a(o===WebSocket.CONNECTING),l(o===WebSocket.OPEN)},[]);function i(){n("wsOpen",()=>{a(!1),l(!0)}),n("wsClose",()=>{a(!1),l(!1)}),n("wsError",()=>{a(!1),l(!1)})}return i(),c&&e.jsx("div",{className:"fixed inset-0 bg-white/70 bg-opacity-80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full animate-pulse bg-blue-600"}),e.jsx("div",{className:"w-5 h-5 rounded-full animate-pulse bg-blue-600"}),e.jsx("div",{className:"w-5 h-5 rounded-full animate-pulse bg-blue-600"})]})})}function D(){const[s,c]=r.useState(""),[a,x]=r.useState(""),[l,i]=r.useState(!1),[o,h]=r.useState(""),f=y(),g=S(),{theme:u}=E(t=>t.theme),b=()=>{g(O())},v=()=>{switch(u){case"light":return"‚òÄÔ∏è";case"dark":return"üåô";case"auto":return"üîÑ";default:return"‚òÄÔ∏è"}},N=()=>{if(!s||!a){alert("Please enter both username and password.");return}const t={action:"onchat",data:{event:"LOGIN",data:{user:s.trim(),pass:a.trim()}}};m.send(JSON.stringify(t))};n("login_success",p);function p(t){const d=t.data.RE_LOGIN_CODE;localStorage.setItem("USER_NAME",s),localStorage.setItem("RE_LOGIN_CODE",d),h(`Welcome back, ${s}! You have logged in successfully.`),i(!0)}function j(){f("/chat")}n("relogin_success",w);function w(t){const d=t.data.RE_LOGIN_CODE;localStorage.setItem("RE_LOGIN_CODE",d)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex m-auto shadow-lg items-stretch h-screen rounded-lg overflow-hidden bg-[var(--bg-primary)] relative",children:[e.jsx("button",{onClick:b,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-[var(--bg-tertiary)] hover:bg-[var(--bg-hover)] flex items-center justify-center transition-colors shadow-md",title:`Theme: ${u}`,children:e.jsx("span",{className:"text-xl",children:v()})}),e.jsx("div",{className:"w-[70%] p-5 flex h-full ",children:e.jsx("img",{src:k,className:" w-full h-full object-cover rounded-lg",alt:"Image"})}),e.jsxs("div",{className:"w-[30%] p-5 flex flex-col rounded-lg border-[var(--border-primary)] border-2 shadow-2xl m-2 h-full bg-[var(--bg-primary)]",children:[e.jsxs("div",{className:"flex gap-3 items-center mb-4",children:[e.jsx("img",{src:I,className:"w-12 h-12",alt:"LogoNLU"}),e.jsx("div",{className:"flex items-center text-2xl text-[var(--text-primary)]",children:"NLU"})]}),e.jsxs("div",{className:"flex flex-col flex-1 h-full gap-4",children:[e.jsx("div",{className:"font-medium text-[var(--text-primary)]",children:"Nice to see you again"}),e.jsxs("div",{className:"flex font-medium text- flex-col",children:[e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{htmlFor:"username",className:"font-bold text-sm text-left text-[var(--text-primary)]",children:"Username:"}),e.jsx("input",{type:"text",className:"mt-1 p-2 w-full rounded-md pr-10 bg-[var(--bg-tertiary)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] border border-[var(--border-primary)]",placeholder:"Username",value:s,onChange:t=>c(t.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-[var(--text-primary)] text-left ",children:"Password:"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("input",{type:"password",id:"password",placeholder:"Enter your Password",required:!0,name:"password",className:"mt-1 p-2 w-full rounded-md pr-10 bg-[var(--bg-tertiary)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] border border-[var(--border-primary)]",value:a,onChange:t=>x(t.target.value)}),e.jsx("button",{type:"button",id:"togglePassword",className:"focus:outline-none -ml-8"})]})]})]}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",placeholder:"Your password",className:"w-4 h-4 text-blue-600 border-gray-200 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"remember-me",className:"block ml-2 text-sm text-[var(--text-secondary)]",children:[" ","Remember me"," "]})]})}),e.jsx("button",{className:"bg-[var(--accent-primary)] hover:bg-[var(--accent-hover)] p-2 mt-3 rounded-md text-white font-medium transition-colors",onClick:N,children:"Sign In"}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("div",{className:"text-sm text-[var(--text-secondary)]",children:"Don't have an account?"}),e.jsx(C,{to:"/register",className:"text-[var(--accent-primary)] hover:text-[var(--accent-hover)] text-sm transition-colors",children:"Sign up now"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"font-bold text-sm text-[var(--text-primary)]",children:"Nh√≥m"}),e.jsx("div",{className:"font-bold text-sm text-[var(--text-primary)]",children:"WebChat"})]})]})]}),l&&e.jsx(_,{message:o,returnPage:j}),e.jsx(L,{})]})}export{D as default};
